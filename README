先声网Web客户端
==============

维护说明
--------

本项目现在依赖如下js文件

* jquery.1.10.2.min.js
* jquery.mobile-1.3.2.min.js
* js/herald-ws.js # 包含服务器访问api以及相关存储逻辑
* js/add2home # 用于iOS上显示添加到主屏幕提示

出于优化需要，对于上述4个js文件分别做了两组js压缩，压缩后的js文件如下

* jquery.all.min.js # 压缩了两个jquery的js依赖
* utils.min.js # 压缩了后面两个js的依赖

由于jqm独特的渲染规则，`jquery.all.min.js`在页面中优先加载，而`utils.min.js`在页面末尾加载。

如需开发调试，可将上述两个min.js替换为压缩前的4个js依赖。在开发完成后，需要重新将min.js依赖还原，并且需要重新压缩。

压缩使用了Google的[closure-compiler](https://code.google.com/p/closure-compiler/)，可以前往[其下载列表](https://code.google.com/p/closure-compiler/downloads/list)下载最新工具。编译可参考下载解压后文件夹中的README文件。如下是安装成功后压缩js的命令，

    alias closure-compiler="java -jar /path/to/closure-compiler/compiler.jar"
    closure-compiler --js=jquery-1.10.2.min.js --js=jquery.mobile-1.3.2.min.js --js_output_file=jquery.all.min.js
    closure-compiler --js=js/herald-ws.js --js=js/add2home.js --js_output_file=utils.min.js

