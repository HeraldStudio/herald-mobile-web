WS_BASE_URL="http://herald.seu.edu.cn/ws";COOKIE_TYX_USER="tyx_user";COOKIE_TYX_PASS="tyx_pass";COOKIE_ID_CARD="id_card";COOKIE_CURRICULUM="curriculum";function setCookie(a,b,e){var f=new Date;f.setDate(f.getDate()+e);b=escape(b)+(null==e?"":"; expires="+f.toUTCString());document.cookie=a+"="+b}
function getCookie(a){var b=document.cookie,e=b.indexOf(" "+a+"=");-1==e&&(e=b.indexOf(a+"="));-1==e?b=null:(e=b.indexOf("=",e)+1,a=b.indexOf(";",e),-1==a&&(a=b.length),b=unescape(b.substring(e,a)));return b}function deleteCookie(a){document.cookie=a+"=; Max-Age=0"}
function initComponents(){var a=getCookie(COOKIE_TYX_USER);null!=a&&(setCookie(COOKIE_TYX_USER,a,3),$("#username").val(a));var b=getCookie(COOKIE_TYX_PASS);null!=b&&(setCookie(COOKIE_TYX_PASS,b,3),$("#password").val(b));null!=a&&null!=b&&$("#tyxLnk .ui-btn-text").text("\u4f53\u80b2\u7cfb\u767b\u5f55\uff08\u5df2\u767b\u5f55\uff09");a=getCookie(COOKIE_ID_CARD);null!=a&&(setCookie(COOKIE_ID_CARD,a,3),$("#idcard").val(a));null!=a&&$("#idCardLnk .ui-btn-text").text("\u4e00\u5361\u901a\u8bbe\u7f6e\uff08\u5df2\u8bbe\u7f6e\uff09");
$("#saveTyx").click(function(){var a=$("#username").val(),b=$("#password").val();setCookie(COOKIE_TYX_USER,a,3);setCookie(COOKIE_TYX_PASS,b,3);location.reload()});$("#saveIdCard").click(function(){var a=$("#idcard").val();setCookie(COOKIE_ID_CARD,a,3);deleteCookie(COOKIE_CURRICULUM);location.reload()});$("a.app-inner").on("click",function(a){a.preventDefault();a=$(this).attr("href");window.location=a})}function hint(a){$("#hintInfo").text(a);$("#hintLnk").trigger("click")}
function getRuntime(){var a=getCookie(COOKIE_TYX_USER),b=getCookie(COOKIE_TYX_PASS);null==a||null==b?$("#tyxPopup").popup("open"):($.mobile.loading("show"),$.get("http://herald.seu.edu.cn/herald_web_service/tyx/"+a+"/"+b+"/",function(a){$.isNumeric(a)?$("#timesData").text(a):hint(a)}).fail(function(){hint("\u8dd1\u64cd\u6b21\u6570\u83b7\u53d6\u5931\u8d25")}).always(function(){$.mobile.loading("hide")}))}
function getRemainDays(){$.get(WS_BASE_URL+"/exercise/remain",function(a){a&&$.isNumeric(a)&&$("#exercise-remain").text(a)})}
function getJwcInfo(){$.mobile.loading("show");$("#jwcTitle").nextAll("li").remove();$.get(WS_BASE_URL+"/campus/jwc",function(a){a=a.info;$("#jwcCount").text(a.length||0);for(var b=0;b<a.length;++b){var e=a[b],f=e.title,e=e.href;$("#infoList li:last-child").after('<li><a href="'+e+'"><p><strong></strong></p><h2>'+f+"</h3></a></li>")}$("#infoList").listview("refresh")}).fail(function(){hint("\u6559\u52a1\u5904\u4fe1\u606f\u83b7\u53d6\u5931\u8d25")}).always(function(){$.mobile.loading("hide")})}
function getCurriculum(a){var b=getCookie(COOKIE_ID_CARD);if(null==b)$("#idCardPopup").popup("open");else{$.mobile.loading("show");var e=function(a,b){$("#curriculum").empty();if(null==a[b]||0==a[b].courses.length){var e="<li><h2>\u6ca1\u8bfe\u4f60\u6562\u4fe1\uff1f</h2></li>";$("#curriculum").append(e)}else for(var f=a[b].courses,k=f.length,n=0;n<k;++n){var g=f[n],e=g.name,t=g.time,u=g.location,g=g.strategy,p="";"ODD"==g?p='<span class="strategy">(\u5355\u5468)</span>':"EVEN"==g&&(p='<span class="strategy">(\u53cc\u5468)</span>');
e='<li><a href="#"><p>'+t+"</p><h2>"+e+p+"</h2><p>"+u+"</p></a></li>";$("#curriculum").append(e)}$("#curriculum").listview("refresh")},f=getCookie(COOKIE_CURRICULUM);null!=f?(e($.parseJSON(f),a),$.mobile.loading("hide")):$.get(WS_BASE_URL+"/curriculum/"+b,function(b){setCookie(COOKIE_CURRICULUM,JSON.stringify(b),1);e(b,a)}).fail(function(){hint("\u8bfe\u8868\u67e5\u8be2\u5931\u8d25")}).always(function(){$.mobile.loading("hide")})}};var addToHome=function(a){function b(){a.removeEventListener("load",b,!1);v?d.expire&&y&&a.localStorage.setItem("addToHome",Date.now()+6E4*d.expire):a.localStorage.setItem("addToHome",Date.now());if(D||u&&y&&!z&&!p&&v){var q="",f=k.platform.split(" ")[0],A=k.language.replace("-","_");c=document.createElement("div");c.id="addToHomeScreen";c.style.cssText+="left:-9999px;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);position:"+
(5>h?"absolute":"fixed");d.message in w&&(A=d.message,d.message="");""===d.message&&(d.message=A in w?w[A]:w.en_us);d.touchIcon&&(q=t?document.querySelector('head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon]'):document.querySelector('head link[rel^=apple-touch-icon][sizes="57x57"],head link[rel^=apple-touch-icon]'))&&(q='<span style="background-image:url('+q.href+')" class="addToHomeTouchIcon"></span>');c.className=
(7<=h?"addToHomeIOS7 ":"")+(g?"addToHomeIpad":"addToHomeIphone")+(q?" addToHomeWide":"");c.innerHTML=q+d.message.replace("%device",f).replace("%icon",4.2<=h?'<span class="addToHomeShare"></span>':'<span class="addToHomePlus">+</span>')+(d.arrow?'<span class="addToHomeArrow"'+(7<=h&&g&&q?' style="margin-left:-32px"':"")+"></span>":"")+(d.closeButton?'<span class="addToHomeClose">\u00d7</span>':"");document.body.appendChild(c);d.closeButton&&c.addEventListener("click",B,!1);!g&&6<=h&&window.addEventListener("orientationchange",
C,!1);setTimeout(e,d.startDelay)}}function e(){var b;b=208;if(g)switch(5>h?(l=a.scrollY,m=a.scrollX):6>h?b=160:7<=h&&(b=143),c.style.top=l+d.bottomOffset+"px",c.style.left=Math.max(m+b-Math.round(c.offsetWidth/2),9)+"px",d.animationIn){case "drop":b="0.6s";c.style.webkitTransform="translate3d(0,"+-(a.scrollY+d.bottomOffset+c.offsetHeight)+"px,0)";break;case "bubble":b="0.6s";c.style.opacity="0";c.style.webkitTransform="translate3d(0,"+(l+50)+"px,0)";break;default:b="1s",c.style.opacity="0"}else switch(l=
a.innerHeight+a.scrollY,5>h?(m=Math.round((a.innerWidth-c.offsetWidth)/2)+a.scrollX,c.style.left=m+"px",c.style.top=l-c.offsetHeight-d.bottomOffset+"px"):(c.style.left="50%",c.style.marginLeft=-Math.round(c.offsetWidth/2)-(a.orientation%180&&6<=h&&7>h?40:0)+"px",c.style.bottom=d.bottomOffset+"px"),d.animationIn){case "drop":b="1s";c.style.webkitTransform="translate3d(0,"+-(l+d.bottomOffset)+"px,0)";break;case "bubble":b="0.6s";c.style.webkitTransform="translate3d(0,"+(c.offsetHeight+d.bottomOffset+
50)+"px,0)";break;default:b="1s",c.style.opacity="0"}c.offsetHeight;c.style.webkitTransitionDuration=b;c.style.opacity="1";c.style.webkitTransform="translate3d(0,0,0)";c.addEventListener("webkitTransitionEnd",x,!1);s=setTimeout(f,d.lifespan)}function f(){clearInterval(E);clearTimeout(s);s=null;if(c){var b=0,e=0,f="1",k="0";d.closeButton&&c.removeEventListener("click",B,!1);!g&&6<=h&&window.removeEventListener("orientationchange",C,!1);5>h&&(b=g?a.scrollY-l:a.scrollY+a.innerHeight-l,e=g?a.scrollX-
m:a.scrollX+Math.round((a.innerWidth-c.offsetWidth)/2)-m);c.style.webkitTransitionProperty="-webkit-transform,opacity";switch(d.animationOut){case "drop":g?(k="0.4s",f="0",b+=50):(k="0.6s",b+=c.offsetHeight+d.bottomOffset+50);break;case "bubble":g?(k="0.8s",b-=c.offsetHeight+d.bottomOffset+50):(k="0.4s",f="0",b-=50);break;default:k="0.8s",f="0"}c.addEventListener("webkitTransitionEnd",x,!1);c.style.opacity=f;c.style.webkitTransitionDuration=k;c.style.webkitTransform="translate3d("+e+"px,"+b+"px,0)"}}
function B(){a.sessionStorage.setItem("addToHomeSession","1");z=!0;f()}function x(){c.removeEventListener("webkitTransitionEnd",x,!1);c.style.webkitTransitionProperty="-webkit-transform";c.style.webkitTransitionDuration="0.2s";s?5>h&&s&&(E=setInterval(F,d.iterations)):(c.parentNode.removeChild(c),c=null)}function F(){var b=new WebKitCSSMatrix(a.getComputedStyle(c,null).webkitTransform),d=g?a.scrollY-l:a.scrollY+a.innerHeight-l,e=g?a.scrollX-m:a.scrollX+Math.round((a.innerWidth-c.offsetWidth)/2)-m;
if(d!=b.m42||e!=b.m41)c.style.webkitTransform="translate3d("+e+"px,"+d+"px,0)"}function C(){c.style.marginLeft=-Math.round(c.offsetWidth/2)-(a.orientation%180&&6<=h&&7>h?40:0)+"px"}var k=a.navigator,n="platform"in k&&/iphone|ipod|ipad/gi.test(k.platform),g,t,u,p,h,m=0,l=0,r=0,y,z,v,c,D,E,s,d={autostart:!0,returningVisitor:!1,animationIn:"drop",animationOut:"fade",startDelay:2E3,lifespan:15E3,bottomOffset:14,expire:0,message:"",touchIcon:!1,arrow:!0,hookOnLoad:!0,closeButton:!0,iterations:100},w={ar:'<span dir="rtl">\u0642\u0645 \u0628\u062a\u062b\u0628\u064a\u062a \u0647\u0630\u0627 \u0627\u0644\u062a\u0637\u0628\u064a\u0642 \u0639\u0644\u0649 <span dir="ltr">%device:</span>\u0627\u0646\u0642\u0631<span dir="ltr">%icon</span> \u060c<strong>\u062b\u0645 \u0627\u0636\u0641\u0647 \u0627\u0644\u0649 \u0627\u0644\u0634\u0627\u0634\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629.</strong></span>',
ca_es:"Per instal\u00b7lar aquesta aplicaci\u00f3 al vostre %device premeu %icon i llavors <strong>Afegir a pantalla d'inici</strong>.",cs_cz:"Pro instalaci aplikace na V\u00e1\u0161 %device, stiskn\u011bte %icon a v nab\u00eddce <strong>P\u0159idat na plochu</strong>.",da_dk:"Tilf\u00f8j denne side til din %device: tryk p\u00e5 %icon og derefter <strong>F\u00f8j til hjemmesk\u00e6rm</strong>.",de_de:"Installieren Sie diese App auf Ihrem %device: %icon antippen und dann <strong>Zum Home-Bildschirm</strong>.",
el_gr:"\u0395\u03b3\u03ba\u03b1\u03c4\u03b1\u03c3\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03ae\u03bd \u03c4\u03b7\u03bd \u0395\u03c6\u03b1\u03c1\u03bc\u03bf\u03b3\u03ae \u03c3\u03c4\u03ae\u03bd \u03c3\u03c5\u03c3\u03ba\u03b5\u03c5\u03ae \u03c3\u03b1\u03c2 %device: %icon \u03bc\u03b5\u03c4\u03ac \u03c0\u03b1\u03c4\u03ac\u03c4\u03b5 <strong>\u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u03c3\u03b5 \u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1</strong>.",en_us:"Install this web app on your %device: tap %icon and then <strong>Add to Home Screen</strong>.",
es_es:"Para instalar esta app en su %device, pulse %icon y seleccione <strong>A\u00f1adir a pantalla de inicio</strong>.",fi_fi:"Asenna t\u00e4m\u00e4 web-sovellus laitteeseesi %device: paina %icon ja sen j\u00e4lkeen valitse <strong>Lis\u00e4\u00e4 Koti-valikkoon</strong>.",fr_fr:"Ajoutez cette application sur votre %device en cliquant sur %icon, puis <strong>Ajouter \u00e0 l'\u00e9cran d'accueil</strong>.",he_il:'<span dir="rtl">\u05d4\u05ea\u05e7\u05df \u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4 \u05d6\u05d5 \u05e2\u05dc \u05d4-%device \u05e9\u05dc\u05da: \u05d4\u05e7\u05e9 %icon \u05d5\u05d0\u05d6 <strong>\u05d4\u05d5\u05e1\u05e3 \u05dc\u05de\u05e1\u05da \u05d4\u05d1\u05d9\u05ea</strong>.</span>',
hr_hr:"Instaliraj ovu aplikaciju na svoj %device: klikni na %icon i odaberi <strong>Dodaj u po\u010detni zaslon</strong>.",hu_hu:"Telep\u00edtse ezt a web-alkalmaz\u00e1st az \u00d6n %device-j\u00e1ra: nyomjon a %icon-ra majd a <strong>F\u0151k\u00e9perny\u0151h\u00f6z ad\u00e1s</strong> gombra.",it_it:"Installa questa applicazione sul tuo %device: premi su %icon e poi <strong>Aggiungi a Home</strong>.",ja_jp:"\u3053\u306e\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u3092\u3042\u306a\u305f\u306e%device\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306b\u306f%icon\u3092\u30bf\u30c3\u30d7\u3057\u3066<strong>\u30db\u30fc\u30e0\u753b\u9762\u306b\u8ffd\u52a0</strong>\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002",
ko_kr:'%device\uc5d0 \uc6f9\uc571\uc744 \uc124\uce58\ud558\ub824\uba74 %icon\uc744 \ud130\uce58 \ud6c4 "\ud648\ud654\uba74\uc5d0 \ucd94\uac00"\ub97c \uc120\ud0dd\ud558\uc138\uc694',nb_no:"Installer denne appen p\u00e5 din %device: trykk p\u00e5 %icon og deretter <strong>Legg til p\u00e5 Hjem-skjerm</strong>",nl_nl:"Installeer deze webapp op uw %device: tik %icon en dan <strong>Voeg toe aan beginscherm</strong>.",pl_pl:"Aby zainstalowa\u0107 t\u0119 aplikacje na %device: naci\u015bnij %icon a nast\u0119pnie <strong>Dodaj jako ikon\u0119</strong>.",
pt_br:"Instale este aplicativo em seu %device: aperte %icon e selecione <strong>Adicionar \u00e0 Tela Inicio</strong>.",pt_pt:"Para instalar esta aplica\u00e7\u00e3o no seu %device, prima o %icon e depois em <strong>Adicionar ao ecr\u00e3 principal</strong>.",ru_ru:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u044d\u0442\u043e \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0432\u0430\u0448 %device: \u043d\u0430\u0436\u043c\u0438\u0442\u0435 %icon, \u0437\u0430\u0442\u0435\u043c <strong>\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u00ab\u0414\u043e\u043c\u043e\u0439\u00bb</strong>.",
sv_se:"L\u00e4gg till denna webbapplikation p\u00e5 din %device: tryck p\u00e5 %icon och d\u00e4refter <strong>L\u00e4gg till p\u00e5 hemsk\u00e4rmen</strong>.",th_th:"\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e47\u0e1a\u0e41\u0e2d\u0e1e\u0e2f \u0e19\u0e35\u0e49\u0e1a\u0e19 %device \u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13: \u0e41\u0e15\u0e30 %icon \u0e41\u0e25\u0e30 <strong>\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e17\u0e35\u0e48\u0e2b\u0e19\u0e49\u0e32\u0e08\u0e2d\u0e42\u0e2e\u0e21</strong>",
tr_tr:"Bu uygulamay\u0131 %device'a eklemek i\u00e7in %icon simgesine sonras\u0131nda <strong>Ana Ekrana Ekle</strong> d\u00fc\u011fmesine bas\u0131n.",uk_ua:"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c \u0446\u0435\u0439 \u0432\u0435\u0431 \u0441\u0430\u0439\u0442 \u043d\u0430 \u0412\u0430\u0448 %device: \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c %icon, \u0430 \u043f\u043e\u0442\u0456\u043c <strong>\u041d\u0430 \u043f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u0438\u0439 \u0435\u043a\u0440\u0430\u043d</strong>.",
zh_cn:"\u60a8\u53ef\u4ee5\u5c06\u6b64\u5e94\u7528\u7a0b\u5f0f\u5b89\u88c5\u5230\u60a8\u7684 %device \u4e0a\u3002\u8bf7\u6309 %icon \u7136\u540e\u70b9\u9009<strong>\u6dfb\u52a0\u81f3\u4e3b\u5c4f\u5e55</strong>\u3002",zh_tw:"\u60a8\u53ef\u4ee5\u5c07\u6b64\u61c9\u7528\u7a0b\u5f0f\u5b89\u88dd\u5230\u60a8\u7684 %device \u4e0a\u3002\u8acb\u6309 %icon \u7136\u5f8c\u9ede\u9078<strong>\u52a0\u5165\u4e3b\u756b\u9762\u87a2\u5e55</strong>\u3002"};(function(){if(n){var c=Date.now(),e;if(a.addToHomeConfig)for(e in a.addToHomeConfig)d[e]=
a.addToHomeConfig[e];d.autostart||(d.hookOnLoad=!1);g=/ipad/gi.test(k.platform);t=a.devicePixelRatio&&1<a.devicePixelRatio;u=/Safari/i.test(k.appVersion)&&!/CriOS/i.test(k.appVersion);p=k.standalone;h=(h=k.appVersion.match(/OS (\d+_\d+)/i))&&h[1]?+h[1].replace("_","."):0;r=+a.localStorage.getItem("addToHome");z=a.sessionStorage.getItem("addToHomeSession");v=d.returningVisitor?r&&r+24192E5>c:!0;r||(r=c);y=v&&r<=c;d.hookOnLoad?a.addEventListener("load",b,!1):!d.hookOnLoad&&d.autostart&&b()}})();return{show:function(a){n&&
!c&&(D=a,b())},close:f,reset:function(){a.localStorage.removeItem("addToHome");a.sessionStorage.removeItem("addToHomeSession")}}}(window);
